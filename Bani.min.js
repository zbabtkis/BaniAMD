var Application=function(e){var t={};this.class=function(e){return t[e]};this.__addClass=function(e,n){t[e]=n};this.__fullPermissions=function(e){var t={};for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n].value}}return t};this.util={is:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},isArray:function(e){return this.is("Array",e)},isFunction:function(e){return this.is("Function",e)},isObject:function(e){return this.is("Object",e)},isString:function(e){return this.is("String",e)}};this.__build=function(e){var n=this,r,i={},s=t[e];var o=function(){for(var e in s){if(e==="__construct"){continue}else{this[e]=s[e].value}}if(s&&s.__construct){s.__construct.value.apply(this)}};if(s&&s.__extender){r=n.__build(s.__extender);o.prototype=r.private;i=r.public}var u=new o;for(var a in s){if(a==="__construct")continue;if(u.hasOwnProperty(a)&&s[a].rule==="public"){i[a]=u[a]}}return{"private":u,"public":i}};this.use=function(e){var t=this;return function(){var n=t.__build(e);return n.public}};if(e&&typeof e.main==="function"){this.__main=e.main}this.augment(e)};Application.log=function(e,t){console.log(t)};Application.prototype.augment=function(e){var t=this,n=/^(public|private|protected)\s(.*?)$/i,r=/^class\s(.*?)($|\sextends\s(.*?)$)/i;var i=function(i){var s=i.match(r),o=e[i],u={},a,f;if(s&&s[1]){a=s[1]}else{a=i}if(s&&s[3]){u.__extender=s[3]}for(var l in o){if(o.hasOwnProperty(l)){f=l.match(n);u[f[2]]={rule:f[1],value:o[l]}}}u.__class__={rule:"private",value:a};t.__addClass(a,u)};for(var s in e){i(s)}};Application.prototype.run=function(){if(this.__main){this.__main()}else{Application.log("warn","Application has no main function")}}